import React, { FC, memo, useCallback } from 'react';

import Taro from '@tarojs/taro';
import { View, NavigatorProps } from '@tarojs/components';

const Comp: FC<NavigatorProps> = memo((props) => {
  let { url, openType, ...others } = props;

  let onClick = useCallback(() => {
    switch (openType) {
      case 'navigateBack':
        Taro.navigateBack();
        break;

      case 'redirect':
        Taro.redirectTo({ url });
        break;

      case 'reLaunch':
        Taro.reLaunch({ url });
        break;

      case 'switchTab':
        Taro.switchTab({ url });
        break;

      default:
        Taro.navigateTo({ url });
        break;
    }
  }, []);
  return <View onClick={onClick} {...others} />;
});

export default Comp;
